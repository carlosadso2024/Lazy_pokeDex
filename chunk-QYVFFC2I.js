import{a as R,b as U}from"./chunk-XT6UYLV2.js";import{A as z,B as x,C,E as w,F as y,G as A,J as D,O as L,Q as q,b as F,c as N,d as v,e as V,f as g,g as u,k as r,l as E,m as _,n as h,o as l,p as j,q as d,r as a,s as n,t as b,u as k,v as f,w as c,x as H,y as $,z as s}from"./chunk-4LIM6WH4.js";var I=class i{constructor(t){this.http=t}apiUrl="https://pokeapi.co/api/v2/pokemon";getPokemons(t=1,e=12){let o=(t-1)*e+1,m=o+e-1,p=[];for(let P=o;P<=m&&P<=151;P++)p.push(this.getPokemon(P));return F(p)}getPokemon(t){return this.http.get(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(V(D))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})};function Y(i,t){if(i&1&&(a(0,"p",21),s(1),n()),i&2){let e=t.$implicit;r(),x("\u2022 ",e)}}function B(i,t){if(i&1&&(a(0,"div",22),s(1),n()),i&2){let e=t.$implicit;r(),x(" \u2022 ",e," ")}}function Q(i,t){if(i&1){let e=k();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),s(4),n(),a(5,"span",5),s(6),n()(),a(7,"div",6),b(8,"div",7),n(),a(9,"div",8)(10,"p",9),s(11),b(12,"br"),s(13),n()(),a(14,"div",10)(15,"h3",11),s(16,"Abilities"),n(),l(17,Y,2,1,"p",12),n(),a(18,"div",10)(19,"h3",13),s(20,"Moves"),n(),a(21,"div",14),l(22,B,2,1,"div",15),n()(),a(23,"div",16)(24,"button",17),f("click",function(m){g(e);let p=c();return u(p.onAddToPokedex(m))}),b(25,"div",18)(26,"div",19)(27,"div",20),n()()()()}if(i&2){let e=c();r(4),z(e.pokemon.name),r(2),x("HP",e.getHp()),r(2),H("background-image","url("+e.getImageUrl()+")"),r(3),x(" NO. ",e.pokemon.id.toString().padStart(3,"0")),r(2),C(" HT: ",(e.pokemon.height/10).toFixed(1),"M WT: ",(e.pokemon.weight/10).toFixed(1),"KG "),r(4),d("ngForOf",e.getAbilities()),r(5),d("ngForOf",e.getMoves()),r(2),d("disabled",e.isInPokedex)("title",e.isInPokedex?"Ya capturado":"Capturar Pok\xE9mon")}}var O=class i{pokemon=null;isInPokedex=!1;addToPokedex=new j;getHp(){return this.pokemon?.stats.find(t=>t.stat.name==="hp")?.base_stat||0}getAbilities(){return this.pokemon?.abilities.map(t=>t.ability.name)||[]}getTypes(){return this.pokemon?.types.map(t=>t.type.name)||[]}getImageUrl(){return this.pokemon?.sprites.other["official-artwork"].front_default||""}getMoves(){return this.pokemon?.moves.slice(0,4).map(t=>t.move.name)||[]}getPokemonNumber(){return String(this.pokemon?.id||0).padStart(3,"0")}onAddToPokedex(t){t.stopPropagation(),this.pokemon&&this.addToPokedex.emit(this.pokemon)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=_({type:i,selectors:[["app-card"]],inputs:{pokemon:"pokemon",isInPokedex:"isInPokedex"},outputs:{addToPokedex:"addToPokedex"},standalone:!1,decls:1,vars:1,consts:[["class","max-w-sm w-full bg-gb-medium card-border relative overflow-hidden",4,"ngIf"],[1,"max-w-sm","w-full","bg-gb-medium","card-border","relative","overflow-hidden"],[1,"p-4"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-lg","font-bold","text-gb-lighter","uppercase"],[1,"font-bold","text-sm"],[1,"bg-gb-dark","mb-4","border-2","border-gb-lighter"],[1,"aspect-square","bg-cover","bg-center","pixelated-image"],[1,"bg-gb-dark","border-2","border-gb-lighter","p-2","text-center","mb-4"],[1,"font-normal","text-xs","text-gb-lighter"],[1,"bg-gb-dark","border-2","border-gb-lighter","p-3","mb-4","text-gb-lighter"],[1,"font-bold","text-sm","mb-1","uppercase"],["class","text-xs",4,"ngFor","ngForOf"],[1,"font-bold","text-sm","mb-2","uppercase"],[1,"grid","grid-cols-2","gap-2"],["class","text-xs bg-gb-medium p-1 border border-gb-lighter",4,"ngFor","ngForOf"],[1,"w-full","h-10","justify-center","content-center","flex"],[1,"w-10","h-10","bg-gb-dark","rounded-full","absolute","cursor-pointer",3,"click","disabled","title"],[1,"w-4","h-4","bg-gb-medium","rounded-full","relative","left-3","top-3"],[1,"w-full","h-1","bg-gb-medium","relative","top-0.5"],[1,"w-2","h-2","bg-gb-dark","rounded-full","relative","left-4","bottom-1"],[1,"text-xs"],[1,"text-xs","bg-gb-medium","p-1","border","border-gb-lighter"]],template:function(e,o){e&1&&l(0,Q,28,11,"div",0),e&2&&d("ngIf",o.pokemon)},dependencies:[w,y],styles:['[_nghost-%COMP%]{font-family:"Press Start 2P",monospace}.card-border[_ngcontent-%COMP%]{border:4px solid #306230;box-shadow:inset 0 0 0 2px #88c070}.pixelated-image[_ngcontent-%COMP%]{image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-o-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;-ms-interpolation-mode:nearest-neighbor}']})};function Z(i,t){if(i&1){let e=k();a(0,"app-card",8),f("addToPokedex",function(m){g(e);let p=c(2);return u(p.addToPokedex(m))}),n()}if(i&2){let e=t.$implicit,o=c(2);d("pokemon",e)("isInPokedex",o.isPokemonInPokedex(e.id))}}function ee(i,t){if(i&1&&(a(0,"div",6),l(1,Z,1,2,"app-card",7),n()),i&2){let e=c();r(),d("ngForOf",e.pokemons)}}function te(i,t){i&1&&(a(0,"div",9)(1,"p",10),s(2,"Cargando pok\xE9mon..."),n()())}function ie(i,t){if(i&1){let e=k();a(0,"button",16),f("click",function(){let m=g(e).$implicit,p=c(2);return u(p.onPageChange(m))}),s(1),n()}if(i&2){let e=t.$implicit,o=c(2);$("active",o.currentPage===e),r(),x(" ",e," ")}}function oe(i,t){if(i&1){let e=k();a(0,"div",11)(1,"div",12)(2,"button",13),f("click",function(){g(e);let m=c();return u(m.previousPage())}),s(3," Anterior "),n(),l(4,ie,2,3,"button",14),a(5,"button",13),f("click",function(){g(e);let m=c();return u(m.nextPage())}),s(6," Siguiente "),n()(),a(7,"p",15),s(8),n()()}if(i&2){let e=c();r(2),d("disabled",e.currentPage===1),r(2),d("ngForOf",e.pages),r(),d("disabled",e.currentPage===e.totalPages),r(3),C(" P\xE1gina ",e.currentPage," de ",e.totalPages," - Total: 151 pok\xE9mon ")}}var M=class i{constructor(t,e){this.pokeService=t;this.pokedexService=e}pokemons=[];currentPage=1;pageSize=12;totalPages=13;isLoading=!1;pokedexCount=0;ngOnInit(){this.loadPokemons(),this.updatePokedexCount(),this.pokedexService.myPokedex$.subscribe(t=>{this.updatePokedexCount()})}loadPokemons(){this.isLoading=!0,this.pokeService.getPokemons(this.currentPage,this.pageSize).subscribe({next:t=>{this.pokemons=t,this.isLoading=!1},error:t=>{console.error("Error loading pokemons:",t),this.isLoading=!1}})}addToPokedex(t){this.pokedexService.addPokemon(t)&&alert("Pokemon agregado a la Pok\xE9dex")}isPokemonInPokedex(t){return this.pokedexService.isPokemonInPokedex(t)}updatePokedexCount(){this.pokedexCount=this.pokedexService.getPokedexCount()}onPageChange(t){this.currentPage=t,this.loadPokemons(),window.scrollTo({top:0,behavior:"smooth"})}nextPage(){this.currentPage<this.totalPages&&this.onPageChange(this.currentPage+1)}previousPage(){this.currentPage>1&&this.onPageChange(this.currentPage-1)}get pages(){let t=[],o=Math.max(1,this.currentPage-2),m=Math.min(this.totalPages,o+5-1);for(let p=o;p<=m;p++)t.push(p);return t}static \u0275fac=function(e){return new(e||i)(E(I),E(R))};static \u0275cmp=_({type:i,selectors:[["app-pokemon-list"]],standalone:!1,decls:8,vars:3,consts:[[1,"text-gb-lighter","bg-gb-dark","min-h-screen","p-4"],[1,"container","mx-auto"],[1,"text-3xl","font-bold","text-center","mb-8","uppercase","text-gb-lighter"],["class","card-grid",4,"ngIf"],["class","text-center text-gb-lighter py-20",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"card-grid"],[3,"pokemon","isInPokedex","addToPokedex",4,"ngFor","ngForOf"],[3,"addToPokedex","pokemon","isInPokedex"],[1,"text-center","text-gb-lighter","py-20"],[1,"text-xl"],[1,"pagination-container"],[1,"pagination-controls"],[1,"pagination-button",3,"click","disabled"],["class","pagination-number",3,"active","click",4,"ngFor","ngForOf"],[1,"pagination-info"],[1,"pagination-number",3,"click"]],template:function(e,o){e&1&&(b(0,"app-header"),a(1,"div",0)(2,"div",1)(3,"h1",2),s(4,"Pokemon List"),n(),l(5,ee,2,1,"div",3)(6,te,3,0,"div",4)(7,oe,9,5,"div",5),n()()),e&2&&(r(5),d("ngIf",o.pokemons.length>0&&!o.isLoading),r(),d("ngIf",o.isLoading),r(),d("ngIf",o.pokemons.length>0&&!o.isLoading))},dependencies:[U,w,y,O],styles:[".card-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:24px;width:100%;max-width:1200px;margin:0 auto 40px}.pagination-container[_ngcontent-%COMP%]{max-width:1200px;margin:40px auto 0;padding:20px}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:16px}.pagination-button[_ngcontent-%COMP%], .pagination-number[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid #9bbc0f;background-color:#0f380f;color:#9bbc0f;font-weight:700;cursor:pointer;transition:all .2s;font-family:monospace}.pagination-button[_ngcontent-%COMP%]:hover:not(:disabled), .pagination-number[_ngcontent-%COMP%]:hover{background-color:#306230;transform:scale(1.05)}.pagination-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-number.active[_ngcontent-%COMP%]{background-color:#9bbc0f;color:#0f380f}.pagination-info[_ngcontent-%COMP%]{text-align:center;color:#9bbc0f;font-family:monospace;font-size:14px}@media (max-width: 900px){.card-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.pagination-button[_ngcontent-%COMP%], .pagination-number[_ngcontent-%COMP%]{padding:6px 12px;font-size:14px}}"]})};var ne=[{path:"",component:M}],T=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=h({type:i});static \u0275inj=v({imports:[L.forChild(ne),L]})};var G=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=h({type:i});static \u0275inj=v({imports:[q,A,T]})};export{G as HomeModule};
